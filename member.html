<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>V8 팀원</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script>
      $(document).ready(function () {
        const data = JSON.parse(localStorage.getItem("더미 데이터"));

        let html = `
              <div class="col-md-4">
                <img
                  src="${data.img}"
                  class="img-fluid rounded-start"
                  alt="사진"
                />
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h4 class="card-title fw-bold">${data.name}</h4>
                  <p class="card-text">
                    ${data.index}
                  </p>
                  <ul class="list-unstyled">
                    <li><strong>직책:</strong> ${data.job}</li>
                    <li><strong>생일:</strong> ${data.brth}</li>
                    <li><strong>MBTI:</strong> ${data.mbti}</li>
                    <li>
                      <a href="${data.blog}" target="_blank"
                        >블로그</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
          `;

        $("#member").append(html);
        localStorage.clear();
      });

      // 댓글 작성 창 열고닫기
      function openclose() {
        $("#commentbox").toggle();
        const btn = document.getElementById("commentBtn");
        const isVisible = $("#commentbox").is(":visible");

        btn.textContent = isVisible ? "닫기" : "댓글 작성하기";
      }

      // 댓글 등록
      function makeComment() {
        let name = $("#name").val();
        let content = $("#content").val();
        let temp_html = `
            <div class="border p-3 mb-2">
              <p class="mb-1"><strong>이름:</strong>${name}</p>
              <p class="mb-0"><strong>내용:</strong>${content}</p>
            </div> `; // 카드 html

        $("#comment").append(temp_html);
      }
    </script>
  </head>

  <body class="bg-light">
    <header class="bg-dark text-white p-3 text-center">
      <a href="mainscreen.html" class="text-white text-decoration-none fw-bold"
        >V8</a
      >
    </header>

    <main class="container my-5">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="card shadow rounded-3">
            <div class="row g-0" id="member"></div>
          </div>

          <!-- 댓글 섹션 -->
          <section class="mt-5">
            <h5 class="fw-bold border-bottom pb-2">댓글</h5>
            <button
              class="btn btn-outline-primary mb-4"
              id="commentBtn"
              onclick="openclose()"
            >
              댓글 작성하기
            </button>
            <div id="commentbox" style="display: none">
              <div class="mb-3">
                <label for="commentName" class="form-label">이름</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  placeholder="이름을 입력하세요"
                />
              </div>
              <div class="mb-3">
                <label for="commentContent" class="form-label">내용</label>
                <textarea
                  class="form-control"
                  id="content"
                  rows="3"
                  placeholder="내용을 입력하세요"
                ></textarea>
              </div>
              <button
                class="btn btn-outline-primary mb-4"
                onclick="makeComment()"
              >
                댓글작성
              </button>
            </div>

            <div id="comment">
              <!-- 댓글 예시 -->
              <div class="border p-3 mb-2">
                <p class="mb-1"><strong>이름:</strong> --</p>
                <p class="mb-0"><strong>내용:</strong> --</p>
              </div>
            </div>
          </section>
        </div>
      </div>
    </main>
  </body>
</html>
